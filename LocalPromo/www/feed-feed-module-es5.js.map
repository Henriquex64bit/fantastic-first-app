{"version":3,"sources":["webpack:///src/app/feed/feed.page.html","webpack:///src/app/feed/feed-routing.module.ts","webpack:///src/app/feed/feed.module.ts","webpack:///src/app/feed/feed.page.scss","webpack:///src/app/feed/feed.page.ts"],"names":["routes","path","component","FeedPageRoutingModule","imports","forChild","exports","FeedPageModule","declarations","FeedPage","db","auth","router","camera","photos","imagem","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","isLoggedIn","navigate","collection","snapshotChanges","subscribe","res","console","log","forEach","c","push","originalid","payload","doc","id","data","getPicture","then","imageData","err","alert","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,qBAAqB;AAAA;AAAA,O;;AAArBA,2BAAqB,6DAJjC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIiC,GAArBH,qBAAqB,CAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCOAI,cAAc;AAAA;AAAA,O;;AAAdA,oBAAc,6DAZ1B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,0EAJO,CADD;AAQRI,oBAAY,EAAE,CAAC,mDAAD,EAAW,8FAAX;AARN,OAAT,CAY0B,GAAdD,cAAc,CAAd;;;;;;;;;;;;;;;;ACvBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCcFE,QAAQ;AAWnB,0BAAoBC,EAApB,EAAkDC,IAAlD,EAAsFC,MAAtF,EAA6GC,MAA7G,EAA6H;AAAA;;AAAzG,eAAAH,EAAA,GAAAA,EAAA;AAA8B,eAAAC,IAAA,GAAAA,IAAA;AAAoC,eAAAC,MAAA,GAAAA,MAAA;AAAuB,eAAAC,MAAA,GAAAA,MAAA;AATtG,eAAAC,MAAA,GAAkB,EAAlB;AACP,eAAAC,MAAA,GAAc,IAAd;AAEQ,eAAAC,OAAA,GAAyB;AAC/BC,mBAAO,EAAE,EADsB;AAE/BC,2BAAe,EAAE,KAAKL,MAAL,CAAYM,eAAZ,CAA4BC,QAFd;AAG/BC,wBAAY,EAAE,KAAKR,MAAL,CAAYS,YAAZ,CAAyBC,IAHR;AAI/BC,qBAAS,EAAE,KAAKX,MAAL,CAAYY,SAAZ,CAAsBC;AAJF,WAAzB;AAMwH;;AAX7G;AAAA;AAAA,qCAaR;AAAA;;AAET,gBAAI,CAAC,KAAKf,IAAL,CAAUgB,UAAf,EACE,KAAKf,MAAL,CAAYgB,QAAZ,CAAqB,CAAC,MAAD,CAArB,EADF,KAEK;AACH,mBAAKlB,EAAL,CAAQmB,UAAR,CAA0B,QAA1B,EAAoCC,eAApC,GAAsDC,SAAtD,CAAgE,UAAAC,GAAG,EAAI;AACrEC,uBAAO,CAACC,GAAR,CAAYF,GAAZ;AACAA,mBAAG,CAACG,OAAJ,CAAY,UAAAC,CAAC,EAAI;AACf,uBAAI,CAACtB,MAAL,CAAYuB,IAAZ,CAAiB,MAAD,OAAC,CAAD;AAAGC,8BAAU,EAAEF,CAAC,CAACG,OAAF,CAAUC,GAAV,CAAcC;AAA7B,mBAAC,EAAmCL,CAAC,CAACG,OAAF,CAAUC,GAAV,CAAcE,IAAd,EAAnC,CAAjB;AACD,iBAFD,EAFqE,CAKrE;AACD,eAND;AAOD;AAEF;AA3BkB;AAAA;AAAA,sCA6BP;AAAA;;AACV,iBAAK7B,MAAL,CAAY8B,UAAZ,CAAuB,KAAK3B,OAA5B,EAAqC4B,IAArC,CAA0C,UAACC,SAAD,EAAe;AACvD,oBAAI,CAAC9B,MAAL,GAAc,4BAA4B8B,SAA1C;AACD,aAFD,EAEG,UAACC,GAAD,EAAS;AACVC,mBAAK,CAAC,qBAAD,CAAL;AACAd,qBAAO,CAACC,GAAR,CAAYY,GAAZ;AACD,aALD;AAMD;AApCkB;;AAAA;AAAA,S;;;;gBAXZ;;gBAEA;;gBACA;;gBACA;;;;AAOIrC,cAAQ,6DALpB,gEAAU;AACTuC,gBAAQ,EAAE,UADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,0FAFS;;;;AAAA,OAAV,CAKoB,GAARxC,QAAQ,CAAR","file":"feed-feed-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\" routerLink=\\\"/perfil\\\">\\r\\n      <ion-avatar class=\\\"avatar\\\" slot=\\\"icon-only\\\">\\r\\n        <img class=\\\"perfil-icon\\\" src=\\\"https://img.elo7.com.br/product/zoom/2415D56/logo-doceria-confeitaria-bolo.jpg\\\">\\r\\n      </ion-avatar>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"ion-text-center\\\">Local Promo</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button routerLink=\\\"/visualizacao-chat\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"paper-plane\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button>\\r\\n      <ion-icon name=\\\"add\\\" (click)=\\\"baterFoto()\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n  <app-photo-card *ngFor=\\\"let p of photos\\\" [photo]=\\\"p\\\"></app-photo-card>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FeedPage } from './feed.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FeedPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FeedPageRoutingModule {}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FeedPageRoutingModule } from './feed-routing.module';\r\n\r\nimport { FeedPage } from './feed.page';\r\nimport { PhotoCardComponent } from '../components/photo-card/photo-card.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FeedPageRoutingModule,\r\n    \r\n  ],\r\n  declarations: [FeedPage, PhotoCardComponent]\r\n  \r\n\r\n})\r\nexport class FeedPageModule {}\r\n","export default \".story-avatar {\\n  width: 3.25em;\\n  height: 3.25em;\\n  border: 2px solid orange;\\n}\\n\\n.perfil-icon {\\n  border: 2px solid #00eeff;\\n  width: 3em;\\n  height: 3em;\\n}\\n\\n.avatar {\\n  padding: 8px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmVlZC9mZWVkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxjQUFBO0VBQ0Esd0JBQUE7QUFDSjs7QUFFQTtFQUNJLHlCQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUFDSjs7QUFFQTtFQUNJLFlBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL2ZlZWQvZmVlZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3RvcnktYXZhdGFyIHtcclxuICAgIHdpZHRoOiAzLjI1ZW07XHJcbiAgICBoZWlnaHQ6IDMuMjVlbTtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIG9yYW5nZTtcclxufVxyXG5cclxuLnBlcmZpbC1pY29uIHtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYigwLCAyMzgsIDI1NSk7XHJcbiAgICB3aWR0aDogM2VtO1xyXG4gICAgaGVpZ2h0OiAzZW07XHJcbn1cclxuXHJcbi5hdmF0YXJ7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbn1cclxuXHJcbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Photo } from 'src/app/components/photo-card/photo-card.component';\r\nimport { PhotosService, PhotosService2 } from 'src/app/services/photos.service';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { filter } from 'minimatch';\r\nimport { AuthenticationService } from '../compartilhado/authentication-service';\r\nimport { Router } from '@angular/router';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\n\r\n@Component({\r\n  selector: 'app-feed',\r\n  templateUrl: './feed.page.html',\r\n  styleUrls: ['./feed.page.scss'],\r\n})\r\nexport class FeedPage implements OnInit {\r\n\r\n  public photos: Photo[] = [];\r\n  imagem: any = null;\r\n  \r\n  private options: CameraOptions = {\r\n    quality: 50,\r\n    destinationType: this.camera.DestinationType.DATA_URL,\r\n    encodingType: this.camera.EncodingType.JPEG,\r\n    mediaType: this.camera.MediaType.PICTURE\r\n  }\r\n  constructor(private db: AngularFirestore, private auth: AuthenticationService, public router: Router,private camera: Camera) { }\r\n\r\n  ngOnInit() {\r\n\r\n    if (!this.auth.isLoggedIn)\r\n      this.router.navigate(['home']);\r\n    else {\r\n      this.db.collection<Photo>('/feed/').snapshotChanges().subscribe(res => {\r\n        console.log(res);\r\n        res.forEach(c => {\r\n          this.photos.push({ originalid: c.payload.doc.id, ...c.payload.doc.data() });\r\n        })\r\n        // this.photos = <Photo[]> res.filter((e : Photo) => e.user.id != 50);\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  baterFoto() {\r\n    this.camera.getPicture(this.options).then((imageData) => {\r\n      this.imagem = 'data:image/jpeg;base64,' + imageData;\r\n    }, (err) => {\r\n      alert('Ops!\\nHouve um erro');\r\n      console.log(err)\r\n    });\r\n  }\r\n\r\n}\r\n"]}